{"remainingRequest":"E:\\gitProjectFront\\Dormitory_frontend\\node_modules\\babel-loader\\lib\\index.js!E:\\gitProjectFront\\Dormitory_frontend\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!E:\\gitProjectFront\\Dormitory_frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!E:\\gitProjectFront\\Dormitory_frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!E:\\gitProjectFront\\Dormitory_frontend\\src\\components\\home_echarts.vue?vue&type=template&id=6d12c4aa","dependencies":[{"path":"E:\\gitProjectFront\\Dormitory_frontend\\src\\components\\home_echarts.vue","mtime":1748424148000},{"path":"E:\\gitProjectFront\\Dormitory_frontend\\babel.config.js","mtime":1748424148000},{"path":"E:\\gitProjectFront\\Dormitory_frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1751446657759},{"path":"E:\\gitProjectFront\\Dormitory_frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1751446653586},{"path":"E:\\gitProjectFront\\Dormitory_frontend\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1751446656777},{"path":"E:\\gitProjectFront\\Dormitory_frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1751446657759},{"path":"E:\\gitProjectFront\\Dormitory_frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1751446656573}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrIH0gZnJvbSAidnVlIjsKY29uc3QgX2hvaXN0ZWRfMSA9IHsKICBpZDogImVjaGFydHMtZG9tIiwKICBzdHlsZTogewogICAgIndpZHRoIjogIjY1MHB4IiwKICAgICJoZWlnaHQiOiAiNTAwcHgiCiAgfQp9OwpleHBvcnQgZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIF9ob2lzdGVkXzEpOwp9"},{"version":3,"names":["id","style","_createElementBlock","_hoisted_1"],"sources":["E:\\gitProjectFront\\Dormitory_frontend\\src\\components\\home_echarts.vue"],"sourcesContent":["<template>\n  <div id=\"echarts-dom\" style=\"width: 650px;height: 500px\"></div>\n</template>\n\n<script>\nimport * as echarts from 'echarts';\nimport request from \"@/utils/request\";\n\nrequire(\"echarts/theme/macarons\");\n\nexport default {\n  name: \"home_echarts\",\n  data() {\n    return {\n      option: {\n        barWidth: 35,\n        tooltip: {},\n        xAxis: {\n          data: []\n        },\n        yAxis: {\n          type: \"value\"\n        },\n        series: [\n          {\n            name: '人数',\n            type: 'bar',\n            data: []\n          },\n        ],\n        grid: {\n          x: 40,\n          y: 40,\n          x2: 40,\n          y2: 40,\n          borderWidth: 10,\n          top: '10%',\n          bottom: '0%',\n          containLabel: true\n        }\n      },\n      myEcharts: '',\n      chartWidth: '',\n      chartHeight: '',\n    };\n  },\n  created() {\n    this.getBuildingNum()\n  },\n  mounted() {\n    this.createEcharts()\n  },\n  watch: {\n    //观察option的变化\n    option: {\n      handler(newVal, oldVal) {\n        if (this.myEcharts) {\n          if (newVal) {\n            this.myEcharts.setOption(newVal);\n          } else {\n            this.myEcharts.setOption(oldVal);\n          }\n        } else {\n          this.createEcharts();\n        }\n      },\n      deep: true //对象内部属性的监听，关键。\n    }\n  },\n  methods: {\n    createEcharts() {\n      const chartDmo = document.getElementById(\"echarts-dom\");\n      this.myEcharts = echarts.init(chartDmo, null);\n      this.myEcharts.setOption(this.option, true);\n    },\n    getBuildingNum() {\n      //xAxis.data\n      request.get(\"/building/getBuildingName\").then(res => {\n        if (res.code === '0') {\n          // 对获取到的楼宇名称进行处理，添加 \"号楼\"\n          const buildingNames = res.data.map(name => `${name}号楼`);\n          this.option.xAxis.data = buildingNames;\n          //series.data\n          // 注意：如果后端 /room/getEachBuildingStuNum/ 依赖的是原始的数字长度或内容，\n          // 这里传递 res.data.length 仍然是正确的。\n          // 如果它依赖转换后的名称，则需要调整。\n          request.get(\"/room/getEachBuildingStuNum/\" + res.data.length).then(result => {\n            if (result.code === '0') {\n              this.option.series[0].data = result.data\n            }\n          })\n        }\n      });\n    },\n  }\n}\n</script>\n\n<style scoped>\n\n</style>"],"mappings":";;EACOA,EAAE,EAAC,aAAa;EAACC,KAAkC,EAAlC;IAAA;IAAA;EAAA;;;uBAAtBC,mBAAA,CAA+D,OAA/DC,UAA+D","ignoreList":[]}]}